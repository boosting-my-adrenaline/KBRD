import React, { useEffect, useState } from 'react'
import { useTypedSelector } from '../hooks/useTypedSelector'
import BG from '../static/1080-30000.svg'

export const Background: React.FC = () => {
  const currentChapter = useTypedSelector((state) => state.nav.chapter)
  const [windowDimensions, setWindowDimensions] = useState(
    getWindowDimensions()
  )

  function getWindowDimensions(): { width: number; height: number } {
    const { innerWidth: width, innerHeight: height } = window
    return {
      width,
      height,
    }
  }

  useEffect(() => {
    function handleResize() {
      setWindowDimensions(getWindowDimensions())
    }

    window.addEventListener('resize', handleResize)
    return () => window.removeEventListener('resize', handleResize)
  }, [])

  const test = (): number => {
    if (currentChapter === 'BOOK') {
      return 24000
    } else if (currentChapter === 'TAP') {
      return 40000
    }
    return 0
  }

  const getColors = (): string => {
    if (currentChapter === 'BOOK') {
      return 'red'
    } else if (currentChapter === 'TAP') {
      return 'blue'
    }
    return 'green'
  }

  const [ts, setTs] = useState(0)

  // useEffect(() => {
  //   if (currentChapter === 'BOOK') {
  //     if (ts < 1500) {
  //       while (ts < 1500) {}
  //     }
  //   }
  // }, [currentChapter])

  return (
    <div
      className={`fixed top-0 bottom-0 right-0 bg-${getColors()}-100`}
      style={{
        // width: BGWidth(),
        width: '100%',
        transition: '1.25s ease-in-out',
      }}
    >
      {11 || (
        <div
          style={{
            height: windowDimensions.height,
            width: 50000,
            overflow: 'auto',
            transform: `translateX(${-test()}px)`,
            // transform: 'translateX(-20000px)',
            // transition: '1.25s ease-in-out',
            backgroundImage: `${BG}`,
            backgroundPosition: 'center',
          }}
        >
          {1 || (
            <svg
              xmlns="http://www.w3.org/2000/svg"
              // viewBox={viewbox || ''}
              viewBox={`0 0 3000 107`}
              height="100%"
              style={{
                display: 'none',
                // width: BGWidth(),
              }}
            >
              <linearGradient
                id="prefix__a"
                gradientUnits="userSpaceOnUse"
                x1={-998.28}
                y1={422.129}
                x2={4495.067}
                y2={422.129}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.235} stopColor="#d1fae5" />
                <stop offset={0.364} stopColor="#fee2e2" />
                <stop offset={0.682} stopColor="#f8e3e7" />
                <stop offset={0.811} stopColor="#dbeafe" />
              </linearGradient>
              <path fill="url(#prefix__a)" d="M-.1.3H3000v107.8H-.1z" />
              <linearGradient
                id="prefix__b"
                gradientUnits="userSpaceOnUse"
                x1={-228.391}
                y1={342.966}
                x2={4495.067}
                y2={342.966}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.112} stopColor="#d1fae5" />
                <stop offset={0.283} stopColor="#fa7268" />
                <stop offset={0.714} stopColor="#fa7268" />
                <stop offset={0.818} stopColor="#c0d9fe" />
              </linearGradient>
              <path
                d="M420.36 88.04v20.05l779.65.01 1799.99-.01V88.04l-83.7 3.72-88-3.4-86 2.19-85.33-1.4-86-2.39-85.33 6.28-86-3.79-151.52 3.02-60.81.65-65.74-2.01c-20.52.84-45.07 1.61-73.07 2.01-35.78.52-67.22.3-92.41-.13-6.78-.16-17.07-.42-29.52-.8l-89.74-2.05c-15.07-.4-26.89-.75-37.26-1.02l-7.78-.2c-15.89-.17-22.89-.41-38.22-.26-15.33.15-30.67.65-46.15 1.47-15.41.81-31 1.94-46.41 1.92-15.48-.02-30.82-1.18-46.15-1.38-15.33-.2-30.67.56-46 1-15.33.43-30.67.53-46.15.51-15.41-.01-31-.15-46.41-.81-15.41-.67-30.74-1.86-46.07-2.08-15.33-.21-30.67.55-46 .55s-30.67-.76-46.15-.53c-15.41.23-31 1.47-46.41 2.04-15.48.58-30.81.52-46.15.02-15.33-.5-30.67-1.44-38.33-1.89l-7.18-.43-7.18.43c-7.67.46-23 1.4-38.33 1.89s-30.67.56-46.15-.02c-15.41-.58-31-1.81-46.41-2.04-15.48-.23-30.81.53-46.15.53-15.33 0-30.67-.76-46-.55-15.33.22-30.67 1.42-46.07 2.08-15.41.66-31 .8-46.41.81-15.48.02-30.82-.08-46.15-.51-15.33-.44-30.67-1.2-46-1-15.33.2-30.67 1.36-46.15 1.38-15.41.02-31-1.12-46.41-1.92-15.48-.82-30.82-1.32-46.15-1.47-15.33-.15-22.33.09-38.22.26l-7.78.2c-10.37.27-22.18.62-37.26 1.02"
                fill="url(#prefix__b)"
              />
              <linearGradient
                id="prefix__c"
                gradientUnits="userSpaceOnUse"
                x1={-228.314}
                y1={340.511}
                x2={4495.067}
                y2={340.511}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.111} stopColor="#d1fae5" />
                <stop offset={0.285} stopColor="#f16367" />
                <stop offset={0.717} stopColor="#f16367" />
                <stop offset={0.819} stopColor="#a6c8fe" />
              </linearGradient>
              <path
                d="M420.4 90.46v17.64h779.65v-.01H3000V90.45l-86.15 3.69-85.33-2.89-86-1.79-85.33 2.89-86 3.49-85.33-3.19-86 .9-86.7 1.59-117.18-1.73-46.52 1.36s-51.44-1.02-81.41-1.09c-29.96-.07-57.7 2-76.92 3.95-19.22 1.94-87.67-3.14-87.67-3.14s-69.33-2.87-80.04-3.01c-10.74-.13-23.48.9-23.48.9l-7.67.53c-7.67.54-23 1.6-38.33 1.44-15.33-.17-30.67-1.57-46.15-2.43-15.41-.86-31-1.2-46.41-.8-15.48.4-30.81 1.54-46.15 2.26-15.33.73-30.67 1.07-46 .52-15.33-.55-30.67-1.98-46.15-1.93-15.41.05-31 1.59-46.41 1.84-15.48.27-30.81-.73-46.15-.71-15.33.01-30.67 1.05-46 1.51-15.33.47-30.67.37-46.15.04-15.41-.34-31-.9-46.41-1.1-15.48-.2-30.81-.04-46.15.2-15.33.23-30.67.53-38.33.68l-7.48.14v.01l-7.44-.14c-7.67-.15-23-.45-38.33-.68-15.33-.24-30.67-.4-46.15-.2-15.41.2-31 .76-46.41 1.1-15.48.33-30.81.43-46.15-.04-15.33-.46-30.67-1.5-46-1.51-15.33-.02-30.67.98-46.15.71-15.41-.26-31-1.79-46.41-1.84-15.48-.05-30.82 1.39-46.15 1.93-15.33.55-30.67.21-46-.52s-30.67-1.86-46.15-2.26c-15.41-.4-31-.06-46.41.8-15.48.87-30.82 2.26-46.15 2.43-15.33.16-30.67-.9-38.33-1.44l-7.67-.53s-12.74-1.03-23.48-.9c-10.7.14-80.04 3.01-80.04 3.01"
                fill="url(#prefix__c)"
              />
              <linearGradient
                id="prefix__d"
                gradientUnits="userSpaceOnUse"
                x1={-228.662}
                y1={337.864}
                x2={4495.067}
                y2={337.864}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.111} stopColor="#d1fae5" />
                <stop offset={0.285} stopColor="#e85467" />
                <stop offset={0.717} stopColor="#e85467" />
                <stop offset={0.819} stopColor="#8cb7fd" />
              </linearGradient>
              <path
                d="M420.21 93.14v14.95l779.73.01 1800.06-.01V93.14l-68.37 1.52-88.29 2.93-88.96-3.84-88.29 4.15-88.96-5.55-88.29 2.73-88.96-1.03-67.89 3.14-123 2.59s-85.41-2.36-110.89-1.64c-25.48.72-98.85-1.29-123.89-2.99-25.04-1.7-55.89 1.07-75.11 2.48s-40.7-1.94-55-.8c-13.93 1.13-42.48.73-44.04.71l-7.67-.08c-7.67-.09-23-.25-38.33-.87s-30.67-1.67-46.15-1.89c-15.41-.22-31 .42-46.41.68-15.48.27-30.82.17-46.15-.05-15.33-.21-30.67-.55-46-.13-15.33.42-30.67 1.58-46.15 1.62-15.41.03-31-1.07-46.41-1.14-15.48-.06-30.81.9-46.15 1.39-15.33.48-30.67.48-46-.17-15.33-.65-30.67-1.94-46.15-2.46-15.41-.51-31-.25-46.41.29-15.48.53-30.81 1.33-46.15 1.43-15.33.1-30.67-.5-38.33-.8l-7.67-.3-7.67.3c-7.67.3-23 .9-38.33.8-15.33-.1-30.67-.9-46.15-1.43-15.41-.54-31-.8-46.41-.29-15.48.52-30.82 1.81-46.15 2.46s-30.67.65-46 .17c-15.33-.49-30.67-1.45-46.15-1.39-15.41.07-31 1.17-46.41 1.14-15.48-.04-30.82-1.2-46.15-1.62-15.33-.42-30.67-.08-46 .13-15.33.22-30.67.32-46.15.05-15.41-.26-31-.9-46.41-.68-15.48.22-30.82 1.28-46.15 1.89-15.33.62-30.67.78-38.33.87l-7.67.08c-1.56.02-30.11.42-44.04-.71-14.3-1.15-35.78 2.21-55 .8"
                fill="url(#prefix__d)"
              />
              <linearGradient
                id="prefix__e"
                gradientUnits="userSpaceOnUse"
                x1={-228.391}
                y1={334.715}
                x2={4495.067}
                y2={334.715}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.109} stopColor="#d1fae5" />
                <stop offset={0.289} stopColor="#de4467" />
                <stop offset={0.718} stopColor="#de4467" />
                <stop offset={0.819} stopColor="#72a6fb" />
              </linearGradient>
              <path
                d="M420.36 95.78v12.32H3000V95.78l-86.67 1.63-85.33 1.4-86-1.69-85.33 2.59-86 1-85.33-1.6-86 .1-125.15.79-96.59-3.48c-24.15.36-48.3.72-72.44 1.07-3.44-.14-8.7-.32-15.22-.43-36.19-.58-48.89 2.27-80.96 2.16-22-.07-19.85-1.49-46.96-1.61-12.93-.06-25.48.28-50.07.94-22.78.61-27.3.88-36.22 1.1-17.33.42-42.07.55-75.7-1.42l-7.67-.38c-7.67-.29-23-.85-38.33-.55-15.33.3-30.67 1.46-46.15 1.53-15.41.07-31-.97-46.41-.95-15.48.02-30.81 1.08-46.15 1.66-15.33.58-30.67.68-46 .8-15.33.11-30.67.25-46.15-.05-15.41-.3-31-1.04-46.41-1.71-15.48-.68-30.81-1.32-46.15-1.62-15.33-.32-30.67-.32-46 .1-15.33.41-30.67 1.25-46.15 1.4-15.41.15-31-.39-46.41-.72-15.48-.33-30.81-.47-46.15-.05-15.33.42-30.67 1.37-38.33 1.86l-7.56.48-7.56-.48c-7.67-.49-23-1.44-38.33-1.86-15.33-.42-30.67-.28-46.15.05-15.41.33-31 .87-46.41.72-15.48-.15-30.82-.99-46.15-1.4-15.33-.42-30.67-.42-46-.1-15.33.31-30.67.95-46.15 1.62-15.41.68-31 1.42-46.41 1.71-15.48.3-30.82.16-46.15.05-15.33-.12-30.67-.22-46-.8-15.33-.59-30.67-1.64-46.15-1.66-15.41-.02-31 1.02-46.41.95-15.48-.07-30.82-1.23-46.15-1.53s-30.67.26-38.33.55l-7.67.38c-33.63 1.96-58.37 1.83-75.7 1.42-8.92-.22-13.44-.49-36.22-1.1"
                fill="url(#prefix__e)"
              />
              <linearGradient
                id="prefix__f"
                gradientUnits="userSpaceOnUse"
                x1={-228.383}
                y1={332.063}
                x2={4495.067}
                y2={332.063}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.109} stopColor="#d1fae5" />
                <stop offset={0.291} stopColor="#d23467" />
                <stop offset={0.718} stopColor="#d23467" />
                <stop offset={0.819} stopColor="#5894f9" />
              </linearGradient>
              <path
                d="M420.37 103.25v4.85H3000v-4.85l-86.22.39-85.33-3.69-86 2.19-85.33-1.6-86-1.3-85.33.3-85.96 3.99v-.02l-54.04-2.61c-9.26.32-21.92.72-37.11 1.05-9.59.21-27 .6-43.85.67-19.93.08-18.44-.38-80.04-1.71-32-.7-42.63-.8-54.11-.76-5.7.02-10.96.08-19.22 0-20.15-.19-34.59-.94-38.3-1.11-23.07-1.09-47.63.53-91.85 1.52-61.44 1.37-74.04-.43-146.66 1.37-14.81.37-11.44.53-19.3.8l-15.33.3-7.67.07c-7.67.06-23 .2-38.33-.15-15.33-.35-30.67-1.19-46.15-1.54-15.41-.35-31-.21-46.41.19-15.48.4-30.82 1.06-46.15 1.21-15.33.15-30.67-.21-46-.48-15.33-.27-30.67-.43-46.15-.23-15.41.2-31 .76-46.41 1.06-15.48.3-30.82.34-46.15.15-15.33-.18-30.67-.58-46-1.03-15.33-.45-30.67-.95-46.15-1.03-15.41-.09-31 .25-46.41.61-15.48.37-30.82.77-46.15.7-15.33-.06-30.67-.6-38.33-.86l-7.56-.27-7.56.27c-7.67.26-23 .8-38.33.86-15.33.07-30.67-.33-46.15-.7-15.41-.36-31-.7-46.41-.61-15.48.08-30.81.58-46.15 1.03-15.33.45-30.67.85-46 1.03-15.33.19-30.67.15-46.15-.15-15.41-.3-31-.86-46.41-1.06-15.48-.2-30.82-.04-46.15.23-15.33.27-30.67.63-46 .48-15.33-.15-30.67-.81-46.15-1.21-15.41-.4-31-.54-46.41-.19-15.48.35-30.82 1.19-46.15 1.54-15.33.35-30.67.21-38.33.15l-7.67-.07-15.33-.3c-7.85-.27-4.48-.43-19.3-.8"
                fill="url(#prefix__f)"
              />
              <linearGradient
                id="prefix__g"
                gradientUnits="userSpaceOnUse"
                x1={-228.523}
                y1={329.084}
                x2={4495.067}
                y2={329.084}
                gradientTransform="matrix(.5461 0 0 -.5461 545.094 284.739)"
              >
                <stop offset={0.109} stopColor="#d1fae5" />
                <stop offset={0.291} stopColor="#c62368" />
                <stop offset={0.72} stopColor="#c62368" />
                <stop offset={0.819} stopColor="#3b82f6" />
              </linearGradient>
              <path
                d="M420.29 105.03v3.07H3000v-3.07l-86-.12-85.33-1.79-86 2.09-85.33.8-86-2.49-85.33 1.89-86-.4v.01l-141.18-3.09-125.7.55s-61.74 1.22-73.81 1.63c-12.07.42-65.33-1.07-89.04 0-23.7 1.07-81.89 1.73-97.96 1.07-15.96-.67-60.96-.57-66.96-.67l-12.93-.2c-7.67-.2-23-.6-38.33-.88-15.33-.29-30.67-.45-46.15-.09-15.41.37-31 1.27-46.41 1.6-15.48.34-30.82.1-46.15-.25-15.33-.35-30.67-.81-46-.8-15.33.02-30.67.52-46.15.67-15.41.15-31-.05-46.41-.27-15.48-.21-30.81-.45-46.15-.21-15.33.23-30.67.93-46 1.13-15.33.2-30.67-.1-46.15-.48-15.41-.39-31-.85-46.41-.89-15.48-.03-30.81.37-46.15.67-15.33.3-30.67.5-38.33.6l-7.67.1-7.67-.1c-7.67-.1-23-.3-38.33-.6-15.33-.3-30.67-.7-46.15-.67-15.41.04-31 .5-46.41.89-15.48.38-30.82.68-46.15.48-15.33-.2-30.67-.9-46-1.13-15.33-.24-30.67 0-46.15.21-15.41.22-31 .42-46.41.27-15.48-.15-30.82-.65-46.15-.67-15.33-.01-30.67.45-46 .8-15.33.35-30.67.59-46.15.25-15.41-.33-31-1.23-46.41-1.6-15.48-.36-30.82-.2-46.15.09-15.33.28-30.67.68-38.33.88l-12.93.2c-6 .1-51 0-66.96.67"
                fill="url(#prefix__g)"
              />
              <path
                d="M50.74.3h-8.08v5.91h10.66v6.09H14v5.91h29.76v5.91H22.82v6.09h9.55v5.91h3.67v5.91H13.63v6.09h7.35V54h.73v5.91h-4.04V66h-6.98v5.91h33.07v5.91H13.63v6.09H61.4v5.91H22.08v5.91h10.66v6.09H9.96v5.91H-.7V.3h51.44z"
                fill="#6ee7b7"
              />
              <path
                d="M25.02.3h13.23v5.91h8.82v6.09h-7.35v5.91H16.2v5.91h32.7v6.09H12.16v5.91h8.08v5.91h-5.51v6.09h11.39V54h-14.7v5.91h15.07V66h9.92v5.91H15.1v5.91h6.25v6.09H11.8v5.91h16.9v5.91h-7.72v6.09h7.72v5.91H-.7V.3h25.72z"
                fill="#65deae"
              />
              <path
                d="M47.07.3H32v5.91h18.74v6.09h-14.7v5.91H19.51v5.91h28.66v6.09H6.65v5.91h27.93v5.91h7.72v6.09h-5.51V54h-4.04v5.91H11.79V66h30.5v5.91h6.98v5.91h-9.55v6.09h3.31v5.91h6.61v5.91H22.82v6.09h26.82v5.91H-.7V.3h47.77z"
                fill="#5bd5a5"
              />
              <path
                d="M44.86.3h-9.55v5.91H7.75v6.09h2.2v5.91h13.6v5.91h-.73v6.09h-4.41v5.91h-5.14v5.91h29.4v6.09H19.51V54h13.96v5.91H16.94V66h1.1v5.91h12.49v5.91h-16.9v6.09h-2.57v5.91h22.78v5.91H28.7v6.09H8.49v5.91H-.7V.3h45.56z"
                fill="#52cc9c"
              />
              <path
                d="M20.24.3H5.55v5.91h31.97v6.09h-1.84v5.91H20.24v5.91h-5.51v6.09h21.31v5.91H6.65v5.91h16.9v6.09h4.41V54h-5.14v5.91h15.43V66H18.04v5.91h8.45v5.91h-14.7v6.09H32v5.91H16.57v5.91h5.14v6.09h2.57v5.91H-.7V.3h20.94z"
                fill="#48c293"
              />
              <path
                d="M30.17.3h2.2v5.91H21.71v6.09H7.38v5.91h16.9v5.91h3.31v6.09h-2.57v5.91H9.96v5.91h13.6v6.09H4.81V54h11.76v5.91h13.6V66H16.2v5.91h13.6v5.91H14.37v6.09H7.02v5.91h24.62v5.91H8.49v6.09h15.8v5.91H-.7V.3h30.87z"
                fill="#3eb98b"
              />
              <path
                d="M21.35.3h-8.08v5.91h3.67v6.09h6.61v5.91H5.91v5.91h.37v6.09h3.67v5.91H8.49v5.91h11.76v6.09h.37V54H5.18v5.91h-2.2V66h14.7v5.91h-4.04v5.91h-2.2v6.09h7.72v5.91H3.34v5.91h16.9v6.09H12.9v5.91H-.7V.3h22.05z"
                fill="#33b082"
              />
              <path
                d="M2.61.3h4.04v5.91h2.57v6.09h6.98v5.91h-2.94v5.91h-2.57v6.09h-.37v5.91H8.49v5.91h3.31v6.09h3.67V54H5.91v5.91h12.86V66h-6.25v5.91H4.44v5.91h14.33v6.09H9.96v5.91h-.37v5.91h10.29v6.09H9.22v5.91H-.7V.3h3.31z"
                fill="#28a87a"
              />
              <path
                d="M6.65.3h8.08v5.91H1.14v6.09h10.29v5.91h4.78v5.91h-3.67v6.09h3.67v5.91H6.65v5.91h4.41v6.09h5.14V54h-.73v5.91H6.28V66h2.57v5.91H3.34v5.91H15.1v6.09H1.87v5.91h7.35v5.91H7.38v6.09h2.2v5.91H-.7V.3h7.35z"
                fill="#1a9f71"
              />
              <path
                d="M7.38.3h1.84v5.91H7.38v6.09h-3.3v5.91h1.84v5.91H2.61v6.09h7.72v5.91h-.74v5.91H7.38v6.09H3.34V54h1.84v5.91h4.78V66H6.65v5.91h2.2v5.91H6.28v6.09H1.5v5.91h5.51v5.91h-3.3v6.09h4.78v5.91H-.7V.3h8.08z"
                fill="#059669"
              />
            </svg>
          )}
        </div>
      )}
    </div>
  )
}
